# Whisper Speech Recognition

This Python application uses [OpenAI's Whisper ASR model](https://openai.com/research/whisper) to transcribe spoken language into text.

The application also includes features for punctuation replacement and hallucination filtering.
It provides real-time transcription and supports multiple languages including English, Ukrainian, Korean and Russian. The transcribed text is copied to the clipboard and a sound is played to indicate the completion of transcription.

To switch languages, simply say the name of the language (English, Ukrainian, Korean or Russian) as a single word during recording. The application will detect the language name and switch to that language for transcription.

Press `Shift` key during recording to make the text start from an uppercase letter, otherwise, it will start from lowercase.

You can enable or disable recognition by pressing F12 key.

During recognition, model can sometimes hallucinate. Thus, some words end phrases are excluded from transcription.

Configuration is made easy through a JSON file.
Available options:
- `energy_threshold`: This option sets the energy level threshold for the microphone to detect speech.
- `record_timeout`: This option sets the real-time duration of the recording in seconds.
- `pause_timeout`: This option sets the amount of empty space (in seconds) between recordings before considering it a new line in the transcription.
- `no_gpu`: This is a boolean option that, when set to true, disables GPU usage.
- `default_microphone`: This option sets the default microphone name for SpeechRecognition. If you're on a Linux platform, you can run the script with 'list' to view available microphones.
- `volume`: This option sets the volume for the pygame mixer.
- `punctuations`: This is a dictionary option where the keys are punctuation marks and the values are lists of phrases that should be replaced with the corresponding punctuation mark.
- `languages`: This is a dictionary option where the keys are language codes and the values are lists of phrases that should be recognized as the corresponding language.
- `hallucination_parts`: This is a list option containing phrases that, if present in the transcribed text, should cause the entire text to be discarded.
- `hallucinations`: This is a list option containing phrases that, if they match the transcribed text exactly, should cause the text to be discarded.

These options should be set in the `config.json` file.

These options should be set in the [`config.json`](./config.json).

## Note
- Voices were generated by https://elevenlabs.io/speech-synthesis.
- Done sound was generated with GPT-4: https://chat.openai.com/share/20121f6f-0b32-4996-a9e6-f1e904511c8d.
- Most of `README.md` and some python code were generated with https://www.phind.com/.